/* ========== PAGE LAYOUT FIX ========== */
.app-container{display:flex;flex-direction:column;min-height:100vh}
.page-content{flex:1;padding:24px;background:#f0f2f5;overflow:auto}
.page-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}
.page-title{display:flex;align-items:center;gap:12px}
.page-title i{font-size:28px;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.page-title h1{font-size:24px;font-weight:700;color:var(--dark);margin:0}
.page-title .badge{background:var(--gradient);color:var(--white);padding:6px 14px;border-radius:20px;font-size:13px;font-weight:600}
.page-actions{display:flex;gap:10px}

/* CARD */
.card{background:var(--white);border-radius:var(--radius-lg);box-shadow:0 1px 3px rgba(0,0,0,0.1);overflow:hidden}
.card-toolbar{display:flex;gap:16px;padding:16px 20px;background:var(--gray-50);border-bottom:1px solid var(--gray-200);flex-wrap:wrap;align-items:center}
.search-box{flex:1;min-width:250px;position:relative}
.search-box i{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--gray-400)}
.search-box input{width:100%;padding:10px 12px 10px 40px;border:2px solid var(--gray-200);border-radius:var(--radius);font-size:13px}
.search-box input:focus{outline:none;border-color:var(--primary)}
.filter-group{display:flex;align-items:center;gap:8px}
.filter-group label{font-size:12px;color:var(--gray-500);white-space:nowrap;font-weight:600}
.filter-group select{padding:10px 12px;border:2px solid var(--gray-200);border-radius:var(--radius);font-size:13px;min-width:120px}
.filter-group select:focus{outline:none;border-color:var(--primary)}

/* TABLE */
.table-container{overflow-x:auto}
.data-table{width:100%;border-collapse:collapse}
.data-table th{padding:14px 16px;text-align:left;font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;background:var(--white);border-bottom:2px solid var(--gray-200);white-space:nowrap}
.data-table td{padding:14px 16px;border-bottom:1px solid var(--gray-100);font-size:13px;vertical-align:middle}
.data-table tbody tr{transition:background .15s}
.data-table tbody tr:hover{background:var(--gray-50)}
.data-table .text-right{text-align:right}
.data-table .text-center{text-align:center}
.empty-row td{text-align:center;padding:60px 20px;color:var(--gray-400);font-size:14px}

/* BADGES & STATUS */
.badge-status{display:inline-block;padding:5px 12px;border-radius:20px;font-size:11px;font-weight:600}
.badge-status.active{background:rgba(16,185,129,0.1);color:#059669}
.badge-status.inactive{background:rgba(239,68,68,0.1);color:#dc2626}

/* ACTION BUTTONS */
.actions-cell{display:flex;gap:6px;justify-content:center}
.btn-action{width:34px;height:34px;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}
.btn-action.edit{background:rgba(45,61,191,0.1);color:var(--primary)}
.btn-action.edit:hover{background:var(--primary);color:var(--white)}
.btn-action.delete{background:rgba(239,68,68,0.1);color:#ef4444}
.btn-action.delete:hover{background:#ef4444;color:var(--white)}

/* HEADER NAVIGATION */
.header .hbtn.active{background:var(--gradient);border-color:transparent;color:var(--white)}
/* ========== TABS ========== */
.tabs-container{display:flex;flex-direction:column}
.tabs-nav{display:flex;gap:4px;padding:12px 20px;background:var(--gray-100);border-bottom:1px solid var(--gray-200);overflow-x:auto}
.tab-btn{display:flex;align-items:center;gap:6px;padding:10px 16px;background:transparent;border:none;border-radius:var(--radius);font-size:13px;font-weight:600;color:var(--gray-500);cursor:pointer;transition:all .2s;white-space:nowrap}
.tab-btn:hover{background:var(--white);color:var(--gray-700)}
.tab-btn.active{background:var(--white);color:var(--primary);box-shadow:0 2px 8px rgba(0,0,0,0.08)}
.tab-btn i{font-size:14px}
.tab-content{display:none;padding:24px;max-height:60vh;overflow-y:auto}
.tab-content.active{display:block;animation:fadeIn .2s}

/* ========== FORM ENHANCEMENTS ========== */
.form-row{display:flex;gap:16px;margin-bottom:16px}
.form-row:last-child{margin-bottom:0}
.col-1{flex:0 0 8.33%}.col-2{flex:0 0 16.66%}.col-3{flex:0 0 25%}.col-4{flex:0 0 33.33%}
.col-5{flex:0 0 41.66%}.col-6{flex:0 0 50%}.col-7{flex:0 0 58.33%}.col-8{flex:0 0 66.66%}
.col-9{flex:0 0 75%}.col-10{flex:0 0 83.33%}.col-11{flex:0 0 91.66%}.col-12{flex:0 0 100%}
.form-group{display:flex;flex-direction:column;flex:1}
.form-group label{font-size:12px;font-weight:600;color:var(--gray-600);margin-bottom:6px;display:flex;align-items:center;gap:6px}
.form-group input,.form-group select,.form-group textarea{padding:10px 12px;border:2px solid var(--gray-200);border-radius:var(--radius);font-size:14px;transition:all .2s;width:100%}
.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(45,61,191,0.1)}
.form-group input:read-only,.form-group input.calculated{background:var(--gray-50);color:var(--gray-500)}
.form-group textarea{resize:vertical;min-height:60px}
.form-group small.help-text{font-size:11px;color:var(--gray-400);margin-top:4px}
.required{color:var(--danger)}
.badge-calc{font-size:9px;padding:2px 6px;background:var(--secondary);color:var(--white);border-radius:10px}

/* INPUT ADDONS */
.input-money,.input-percent{position:relative;display:flex;align-items:center}
.input-money span{position:absolute;left:12px;color:var(--gray-400);font-weight:600;font-size:14px}
.input-money input{padding-left:28px}
.input-money.readonly{opacity:.7}
.input-money.calculated{background:linear-gradient(135deg,rgba(45,61,191,0.05),rgba(108,43,217,0.05))}
.input-money.calculated input{background:transparent;font-weight:600;color:var(--primary)}
.input-percent input{padding-right:32px}
.input-percent span{position:absolute;right:12px;color:var(--gray-400);font-weight:600}
.input-with-icon{position:relative}
.input-with-icon i{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--gray-400)}
.input-with-icon input{padding-left:38px}

/* MARGIN BADGES */
.margin-badge{font-size:11px;padding:4px 8px;background:var(--gray-100);border-radius:4px;text-align:center;margin-top:6px;font-weight:600;color:var(--gray-500)}
.margin-badge.positive{background:rgba(16,185,129,0.1);color:var(--success)}
.margin-badge.negative{background:rgba(239,68,68,0.1);color:var(--danger)}

/* DIVIDER */
.divider{display:flex;align-items:center;margin:24px 0 16px;color:var(--gray-400)}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--gray-200)}
.divider span{padding:0 16px;font-size:12px;font-weight:600;text-transform:uppercase}

/* INFO BOX */
.info-box{display:flex;gap:12px;padding:14px 16px;border-radius:var(--radius);margin-bottom:20px}
.info-box.info{background:rgba(45,61,191,0.05);border:1px solid rgba(45,61,191,0.2)}
.info-box.info i{color:var(--primary)}
.info-box.warning{background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.3)}
.info-box.warning i{color:var(--warning)}
.info-box i{font-size:20px;margin-top:2px}
.info-box div strong{display:block;font-size:13px;margin-bottom:2px}
.info-box div p{font-size:12px;color:var(--gray-600);margin:0}

/* CONVERSION BOX */
.conversion-box{background:linear-gradient(135deg,rgba(45,61,191,0.05),rgba(108,43,217,0.05));border-radius:var(--radius-lg);padding:24px;margin:20px 0}
.conversion-visual{display:flex;align-items:center;justify-content:center;gap:24px}
.conv-item{display:flex;flex-direction:column;align-items:center;gap:4px;padding:16px 24px;background:var(--white);border-radius:var(--radius);box-shadow:var(--shadow)}
.conv-item i{font-size:24px;color:var(--gray-400)}
.conv-item span{font-size:28px;font-weight:800;color:var(--dark)}
.conv-item strong{font-size:14px;color:var(--gray-500)}
.conv-item.highlight{background:var(--gradient);color:var(--white)}
.conv-item.highlight i,.conv-item.highlight span,.conv-item.highlight strong{color:var(--white)}
.conv-arrow{font-size:24px;color:var(--gray-300)}

/* RADIO CARDS */
.radio-cards{display:flex;gap:10px}
.radio-card{flex:1;cursor:pointer}
.radio-card input{display:none}
.radio-card .card-content{display:flex;flex-direction:column;align-items:center;padding:16px;border:2px solid var(--gray-200);border-radius:var(--radius);transition:all .2s}
.radio-card:hover .card-content{border-color:var(--primary)}
.radio-card input:checked+.card-content{border-color:var(--primary);background:rgba(45,61,191,0.05)}
.radio-card .percentage{font-size:24px;font-weight:800;color:var(--primary)}
.radio-card .label{font-size:12px;color:var(--gray-500)}

/* TOGGLE SWITCH */
.toggle-switch{display:flex;align-items:flex-start;gap:12px;cursor:pointer}
.toggle-switch input{display:none}
.toggle-switch .slider{width:44px;height:24px;background:var(--gray-300);border-radius:12px;position:relative;transition:all .3s;flex-shrink:0}
.toggle-switch .slider::after{content:'';position:absolute;width:18px;height:18px;background:var(--white);border-radius:50%;top:3px;left:3px;transition:all .3s;box-shadow:0 2px 4px rgba(0,0,0,0.2)}
.toggle-switch input:checked+.slider{background:var(--success)}
.toggle-switch input:checked+.slider::after{left:23px}
.toggle-switch .toggle-label{display:flex;flex-direction:column}
.toggle-switch .toggle-label strong{font-size:13px;color:var(--dark)}
.toggle-switch .toggle-label small{font-size:11px;color:var(--gray-400)}
.toggle-switch.small .slider{width:36px;height:20px}
.toggle-switch.small .slider::after{width:14px;height:14px}
.toggle-switch.small input:checked+.slider::after{left:19px}
.toggle-switch.small .toggle-label{font-size:13px;color:var(--gray-600)}

/* TAX SUMMARY */
.tax-summary{background:var(--gray-50);border-radius:var(--radius);padding:16px;margin-top:20px}
.tax-summary h4{font-size:13px;color:var(--gray-600);margin-bottom:12px}
.tax-row{display:flex;justify-content:space-between;padding:8px 0;font-size:13px;border-bottom:1px dashed var(--gray-200)}
.tax-row:last-child{border-bottom:none}
.tax-row span{color:var(--gray-500)}
.tax-row strong{color:var(--dark)}
.tax-row.total{border-top:2px solid var(--gray-300);padding-top:12px;margin-top:4px}
.tax-row.total span,.tax-row.total strong{font-size:15px}
.tax-row.total strong{color:var(--primary)}

/* IMAGE PREVIEW */
.img-preview{width:80px;height:80px;border:2px dashed var(--gray-200);border-radius:var(--radius);display:flex;align-items:center;justify-content:center;overflow:hidden;background:var(--gray-50)}
.img-preview i{font-size:24px;color:var(--gray-300)}
.img-preview img{width:100%;height:100%;object-fit:contain}

/* COLOR PICKER */
.color-picker{display:flex;gap:8px;align-items:center}
.color-picker input[type="color"]{width:44px;height:38px;border:2px solid var(--gray-200);border-radius:var(--radius);cursor:pointer;padding:2px}
.color-picker input[type="text"]{flex:1}

/* RESPONSIVE */
@media(max-width:768px){
    .form-row{flex-direction:column;gap:12px}
    .form-row>[class*="col-"]{flex:0 0 100%}
    .tabs-nav{padding:8px 12px}
    .tab-btn{padding:8px 12px;font-size:12px}
    .tab-btn span{display:none}
    .tab-content{padding:16px}
    .conversion-visual{flex-direction:column;gap:12px}
    .conv-arrow{transform:rotate(90deg)}
    .radio-cards{flex-direction:column}
}
